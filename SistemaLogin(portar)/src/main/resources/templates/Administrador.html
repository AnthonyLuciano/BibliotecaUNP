<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>BibliotecaUNP - Painel do Administrador</title>
    <link rel="stylesheet" href="/css/admin.css"> <!-- Use o CSS criado anteriormente -->
</head>
<body>
<div class="container">

    <header class="branding">
        <h2>游닄 <span>Biblioteca</span>UNP</h2>
        <a href="/login" class="btn btn-logout">Sair</a>
    </header>

    <h2>Painel do Administrador</h2>

    <section>
        <h4>Gerenciamento de Usu치rios</h4>
        <form method="get" action="/admin/pesquisar" class="search-bar">
            <input type="text" name="busca" placeholder="游댌 Pesquisar usu치rio..." />
            <button type="submit" class="btn">Pesquisar</button>
        </form>

        <table class="table">
            <thead>
            <tr>
                <th>ID</th>
                <th>Usu치rio</th>
                <th>Funcion치rio?</th>
                <th>A칞칫es</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="usuario : ${usuarios}">
                <td th:text="${usuario.id}"></td>
                <td>
                    <form th:action="@{/admin/editar}" method="post" class="form-inline">
                        <input type="hidden" name="id" th:value="${usuario.id}" />
                        <input type="text" name="username" th:value="${usuario.username}" required />
                        <label>
                            <input type="checkbox" name="admin" th:checked="${usuario.admin}" />
                            Funcion치rio
                        </label>
                        <button type="submit" class="btn btn-save">Salvar</button>
                    </form>
                </td>
                <td th:text="${usuario.admin ? 'Sim' : 'N칚o'}"></td>
                <td>
                    <form th:action="@{/admin/excluir/{id}(id=${usuario.id})}" method="post" onsubmit="return confirm('Tem certeza que deseja excluir?')">
                        <button type="submit" class="btn btn-delete">Excluir</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </section>

    <section class="form-section">
        <h4>Cadastrar Novo Usu치rio</h4>
        <form th:action="@{/admin/cadastrar}" method="post" class="form-grid">
            <input type="text" name="username" placeholder="Usu치rio" required />
            <input type="password" name="password" placeholder="Senha" required />
            <label>
                <input type="checkbox" name="admin" />
                Funcion치rio
            </label>
            <button type="submit" class="btn btn-create">Cadastrar</button>
        </form>

        <div th:if="${erro}" th:text="${erro}" class="alert-error"></div>
    </section>

    <div style="margin-top: 20px;">
        <a href="/livros" class="btn btn-view-user">游녻 Ver como usu치rio</a>
    </div>
</div>
</body>
</html>
